{% extends 'hod_template/base_template.html' %}
{% block page_title %}
<i class="nav-icon fas fa-tachometer-alt"></i> DASHBOARD
{% endblock page_title %}
{% block main_content %}
{% load static %}
<!-- Main content -->
<section class="content">
    <div class="card">
  <img src="{% static 'dist/img/founder.jpg' %}" alt="Card Image" class="card-img-top">
  <div class="card-body">
    <h5 class="card-title">THE FOUNDER</h5>
    <p class="card-text"><p>Rev. Joel Kandie Chebii, the founder of Eldo Valley Baptist Academy, is a remarkable individual who was born in a village in Baringo, Kenya. While his origins lie in a rural setting, he has expanded his work and influence on an international level.</p>

<p>Apart from his involvement in education as the founder of Eldo Valley Baptist Academy, Rev. Joel Kandie Chebii has dedicated his efforts to defending the rights of workers and laborers. He works closely with the Central Organization of Trade Unions (COTU) in Kenya, collaborating with Francis Atwoli, a prominent labor leader and Secretary-General of COTU.</p>

<p>By championing workers' rights, Rev. Joel Kandie Chebii strives to ensure fair treatment, just wages, and improved working conditions for laborers in various sectors. His commitment to this cause reflects his deep-rooted belief in social justice and equality.</p>

<p>Rev. Joel Kandie Chebii's journey from a humble village in Baringo to working on an international level demonstrates his passion and dedication to making a positive impact in society. Through his work in education and labor advocacy, he aims to uplift individuals and communities, fostering a more equitable and just society.</p>

<p>In addition to his educational and labor advocacy roles, Rev. Joel Kandie Chebii is also the pastor and leader of Eldo Valley Baptist Church. He faithfully serves as a spiritual guide and mentor to his congregation, offering guidance, support, and teaching based on his strong Christian faith.</p>

<p>As the senior reverend of Eldo Valley Baptist Church, Rev. Joel Kandie Chebii fosters a community of believers who gather to worship, study the Bible, and grow in their faith. His leadership is characterized by a deep commitment to the principles and teachings of Christianity.</p>

<p>Rev. Joel Kandie Chebii's strong Christian convictions influence his approach to education, labor advocacy, and his interactions with others. His faith acts as a driving force behind his dedication to justice, compassion, and service to others. It shapes his worldview and guides his actions as he seeks to make a positive impact on the lives of individuals and society as a whole.</p>

<p>Through his multifaceted roles as an educator, labor advocate, and pastor, Rev. Joel Kandie Chebii exemplifies a steadfast commitment to his Christian faith, inspiring and uplifting those around him.</p>
    <a href="#" class="btn btn-primary">To The Top</a>
  </div>
</div>
  <div class="container-fluid">
      <div class="row">
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-info shadow-custom">
          <div class="inner">
            <h3>{{ student_count }}</h3>

            <p>Total Students</p>
          </div>
          <div class="icon">
            <i class="nav-icon fas fa-user-graduate"></i>
          </div>
          <a href="{% url 'manage_student' %}" class="small-box-footer">More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <!-- ./col -->
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-success shadow-custom">
          <div class="inner">
            <h3>{{ staff_count }}</h3>

            <p>Total Teachers</p>
          </div>
          <div class="icon">
            <i class="nav-icon fas fa-chalkboard-teacher"></i>
          </div>
          <a href="{% url 'manage_staff' %}" class="small-box-footer">More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-info shadow-custom">
          <div class="inner">
            <h3>{{ parent_count }}</h3>

            <p>Total Parents</p>
          </div>
          <div class="icon">
            <i class="nav-icon fas fa-users"></i>
          </div>
          <a href="{% url 'manage_parent' %}" class="small-box-footer">More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-info shadow-custom">
          <div class="inner">
            <h3>{{ account_count }}</h3>

            <p>Total Accountants</p>
          </div>
          <div class="icon">
            <i class="nav-icon fas fa-accountant"></i>
          </div>
          <a href="{% url 'manage_account' %}" class="small-box-footer">More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <!-- ./col -->
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-warning shadow-custom">
          <div class="inner">
            <h3 style="color: white;">{{ course_count }}</h3>

            <p style="color: white;">Total Grades</p>
          </div>
          <div class="icon">
            <i class="ion ion-ios-bookmarks"></i>
          </div>
          <a href="{% url 'manage_course' %}" class="small-box-footer" style="color: white !important;" >More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <!-- ./col -->
      <div class="col-lg-3 col-6">
        <!-- small box -->
        <div class="small-box bg-danger shadow-custom">
          <div class="inner">
            <h3>{{ subject_count }}</h3>

            <p>Total Subjects</p>
          </div>
          <div class="icon">
            <i class="ion ion-ios-book"></i>
          </div>
          <a href="{% url 'manage_subject' %}" class="small-box-footer">More info... <i class="fas fa-arrow-circle-right"></i></a>
        </div>
      </div>
      <!-- ./col -->
    </div>
      <div class="row">
          <div class="col-lg-6">
            <div class="card card-danger shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Chart of Teachers,Students and Parents</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <canvas id="pieChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
          <div class="col-lg-6">
                <div class="card card-success shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Total Subjects in Each Class</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <canvas id="donutChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
      </div>
      <div class="row">
          <div class="col-lg-6">
              <div class="card card-info shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Total Students in Each Class</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <canvas id="pieChart3" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
          <div class="col-lg-6">
              <div class="card card-warning shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Total Students in Each Subject</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <canvas id="pieChart4" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
      </div>
      <div class="row">
          <div class="col-lg-12">
              <div class="card card-success shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Statistics of Teachers' Attendance and Leaves</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="barChart1" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
      </div>
      <div class="row">
          <div class="col-lg-12">
              <div class="card card-success shadow-custom">
              <div class="card-header">
                <h3 class="card-title">Statistics of Students' Attendance and Leaves</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" style="box-shadow: none !important;" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="barChart2" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
      </div>
  </div>
</section>
<!-- /.content -->
{% endblock main_content %}
{% block custom_js %}
<script>
    $(document).ready(function(){
      Chart.defaults.global.defaultFontColor = '#fcfcfc';

            var pieData        = {
                  labels: [
                      'Students',
                      'Staffs',
                      'Parents',
                  ],
                  datasets: [
                    {
                      data: [{{ student_count }},{{ staff_count }},{{ parent_count }}],
                      backgroundColor : ['#f56954', '#00a65a', '#1064eb'],
                      borderColor: 'rgba(60,141,188,0.0)',
                    }
                  ]
             };

            var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
            var pieOptions     = {
              maintainAspectRatio : false,
              responsive : true,
            }
            //Create pie or douhnut chart
            // You can switch between pie and douhnut using the method below.
            var pieChart = new Chart(pieChartCanvas, {
              type: 'pie',
              data: pieData,
              options: pieOptions
            });

            //Second Chart for Total Subject in Each Course
                var subject_count_list={{ subject_count_list }};
                var course_name_list={{ course_name_list|safe }};
                var donutChartCanvas = $('#donutChart').get(0).getContext('2d')
                var donutData        = {
                  labels:course_name_list,
                  datasets: [
                    {
                      data: subject_count_list,
                      backgroundColor : ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
                      borderColor: 'rgba(60,141,188,0.0)',
                    }
                  ]
                }
                var donutOptions     = {
                  maintainAspectRatio : false,
                  responsive : true,
                }
                //Create pie or douhnut chart
                // You can switch between pie and douhnut using the method below.
                var donutChart = new Chart(donutChartCanvas, {
                  type: 'doughnut',
                  data: donutData,
                  options: donutOptions
                });


                //show total student in each course
                var student_count_list_in_course={{ student_count_list_in_course }};

                  var pieData2        = {
                          labels:course_name_list,
                          datasets: [
                            {
                              data: student_count_list_in_course,
                              backgroundColor : ['#f56954', '#00a65a','#aa00ff', '#ff3d00', '#1064eb', '#e3eb10'],
                              borderColor: 'rgba(60,141,188,0.0)',
                            }
                          ]
                     };

                    var pieChartCanvas2 = $('#pieChart3').get(0).getContext('2d')
                    var pieOptions2     = {
                      maintainAspectRatio : false,
                      responsive : true,
                    }
                    var pieChart = new Chart(pieChartCanvas2, {
                      type: 'pie',
                      data: pieData2,
                      options: pieOptions2
                    });

                //show total student in each Subject
                var student_count_list_in_subject={{ student_count_list_in_subject }};
                var subject_list={{ subject_list|safe }};

                  var pieData3  = {
                          labels:subject_list,
                          datasets: [
                            {
                              data: student_count_list_in_subject,
                              backgroundColor : ['#f56954', '#00a65a','#aa00ff', '#ff3d00','#bf360c','#ffff00','#00e676','#40c4ff','#f56954', '#00a65a','#aa00ff', '#ff3d00','#bf360c','#ffff00','#00e676','#40c4ff'],
                              borderColor: 'rgba(60,141,188,0.0)',
                            }
                          ]
                     };

                    var pieChartCanvas3 = $('#pieChart4').get(0).getContext('2d')
                    var pieOption3     = {
                      maintainAspectRatio : false,
                      responsive : true,
                    }
                    var pieChart = new Chart(pieChartCanvas3, {
                      type: 'pie',
                      data: pieData3,
                      options: pieOption3
                    });

                        ///Staff Leave vs Attendance Bar Chart
                        var attendance_present_list_staff={{ attendance_present_list_staff }};
                        var attendance_absent_list_staff={{ attendance_absent_list_staff }};
                        var staff_name_list={{ staff_name_list|safe }};
                        var barChartData = {
                          labels  : staff_name_list,
                          datasets: [
                            {
                              label               : 'Staff Leaves',
                              backgroundColor     : 'rgba(60,141,188,0.9)',
                              borderColor         : 'rgba(60,141,188,0.8)',
                              pointRadius          : false,
                              pointColor          : '#3b8bba',
                              pointStrokeColor    : 'rgba(60,141,188,1)',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(60,141,188,1)',
                              data                : attendance_absent_list_staff
                            },
                            {
                              label               : 'Attendance',
                              backgroundColor     : 'rgba(210, 214, 222, 1)',
                              borderColor         : 'rgba(210, 214, 222, 1)',
                              pointRadius         : false,
                              pointColor          : 'rgba(210, 214, 222, 1)',
                              pointStrokeColor    : '#c1c7d1',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(220,220,220,1)',
                              data                : attendance_present_list_staff
                            },
                          ]
                        }
                        var barChartCanvas = $('#barChart1').get(0).getContext('2d')
                        var temp0 = barChartData.datasets[0]
                        var temp1 = barChartData.datasets[1]
                        barChartData.datasets[0] = temp1
                        barChartData.datasets[1] = temp0

                        var barChartOptions = {
                          responsive              : true,
                          maintainAspectRatio     : false,
                          datasetFill             : false
                        }

                        var barChart = new Chart(barChartCanvas, {
                          type: 'bar',
                          data: barChartData,
                          options: barChartOptions
                        })

                        //Student Leaves vs Attendance
                        var attendance_present_list_student={{ attendance_present_list_student }};
                        var attendance_absent_list_student={{ attendance_absent_list_student }};
                        var student_name_list={{ student_name_list|safe }};
                        var barChartData2 = {
                          labels  : student_name_list,
                          datasets: [
                            {
                              label               : 'Student Leaves',
                              backgroundColor     : 'rgba(60,141,188,0.9)',
                              borderColor         : 'rgba(60,141,188,0.8)',
                              pointRadius          : false,
                              pointColor          : '#3b8bba',
                              pointStrokeColor    : 'rgba(60,141,188,1)',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(60,141,188,1)',
                              data                : attendance_absent_list_student
                            },
                            {
                              label               : 'Attendance',
                              backgroundColor     : 'rgba(210, 214, 222, 1)',
                              borderColor         : 'rgba(210, 214, 222, 1)',
                              pointRadius         : false,
                              pointColor          : 'rgba(210, 214, 222, 1)',
                              pointStrokeColor    : '#c1c7d1',
                              pointHighlightFill  : '#fff',
                              pointHighlightStroke: 'rgba(220,220,220,1)',
                              data                : attendance_present_list_student
                            },
                          ]
                        }
                        var barChartCanvas2 = $('#barChart2').get(0).getContext('2d')
                        var temp02 = barChartData2.datasets[0]
                        var temp12 = barChartData2.datasets[1]
                        barChartData2.datasets[0] = temp12
                        barChartData2.datasets[1] = temp02

                        var barChartOptions2 = {
                          responsive              : true,
                          maintainAspectRatio     : false,
                          datasetFill             : false
                        }

                        var barChart2 = new Chart(barChartCanvas2, {
                          type: 'bar',
                          data: barChartData2,
                          options: barChartOptions2
                        })



    });
</script>
{% endblock custom_js %}
